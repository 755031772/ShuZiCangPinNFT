(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-addpages-change-change"],{"0a0d":function(t,e,n){"use strict";var a=n("8462"),o=n.n(a);o.a},"3a10":function(t,e,n){"use strict";var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.addOrder=l,e.addOrderComment=m,e.addRecharge=p,e.applyWallet=A,e.bindAlipay=c,e.cancelOrder=g,e.confirmCollection=M,e.deliver=E,e.disposeRefund=v,e.editRrderAddress=J,e.findOrder=b,e.findOrderlist=_,e.getBazaarList=T,e.getCategory=k,e.getRecharge=f,e.getcollection_avatar=z,e.getcollection_detail=x,e.getdraw_air_drop=L,e.getmoneyLog=P,e.getmy_air_drop=O,e.getmy_collection_list=w,e.getmy_give_live=S,e.getrule=I,e.getwallet=G,e.getwalletrule=B,e.getwithdrawalConfig=R,e.myCollection_poster=C,e.postgive_as_present=u,e.receipt=h,e.refund=y,e.toPay=s;var o,r=a(n("ade3")),i=a(n("b775")),d=(o={addRecharge:"/api/app/payment/add_recharge",cancelOrder:"/api/app/user/cancel_order",receipt:"/api/app/user/receipt",addOrderComment:"/api/app/user/add_order_comment",refund:"/api/app/user/refund",disposeRefund:"/api/app/shop/dispose_refund",findOrderlist:"/api/app/user/find_orderlist",findOrder:"/api/app/user/find_order",deliver:"/api/app/shop/deliver",editRrderAddress:"/api/app/shop/edit_order_address",confirmCollection:"/api/nft.pay/checkCollection",addOrder:"/api/nft.pay/addOrder",toPay:"/api/nft.pay/pay"},(0,r.default)(o,"findOrderlist","/api/nft.order/index"),(0,r.default)(o,"getcollection_detail","/api/nft.user/my_collection_detail"),(0,r.default)(o,"getmy_collection_list","/api/nft.user/my_collection_list"),(0,r.default)(o,"getmy_give_live","/api/nft.user/my_give_live"),(0,r.default)(o,"postgive_as_present","/api/nft.user/give_as_present"),(0,r.default)(o,"getrule","/api/nft.index/make_friend"),(0,r.default)(o,"getmy_air_drop","/api/nft.user/my_air_drop"),(0,r.default)(o,"getdraw_air_drop","/api/nft.marketing/draw_air_drop"),(0,r.default)(o,"myCollection_poster","/api/nft.fans/collection_poster"),(0,r.default)(o,"getCategory","/api/nft.bazaar/category"),(0,r.default)(o,"getBazaarList","/api/nft.bazaar/index"),(0,r.default)(o,"getwallet","/api/nft.wallet/index"),(0,r.default)(o,"getmoneyLog","/api/nft.wallet/moneyLog"),(0,r.default)(o,"getwalletrule","/api/nft.wallet/rule"),(0,r.default)(o,"getwithdrawalConfig","/api/nft.wallet/withdrawalConfig"),(0,r.default)(o,"bindAlipay","/api/nft.user/bindAlipay"),(0,r.default)(o,"applyWallet","/api/nft.wallet/payment"),(0,r.default)(o,"getRecharge","/api/nft.pay/recharge"),(0,r.default)(o,"getcollection_avatar","/api/nft.fans/collection_avatar"),o);function s(t){return i.default.post(d.toPay,t)}function l(t){return i.default.post(d.addOrder,t)}function u(t){return i.default.post(d.postgive_as_present,t)}function c(t){return i.default.post(d.bindAlipay,t)}function f(t){return i.default.post(d.getRecharge,t)}function p(t){return i.default.post(d.addRecharge,t)}function g(t){return i.default.post(d.cancelOrder,t)}function h(t){return i.default.post(d.receipt,t)}function m(t){return i.default.post(d.addOrderComment,t)}function y(t){return i.default.post(d.refund,t)}function v(t){return i.default.post(d.disposeRefund,t)}function _(t){return i.default.get(d.findOrderlist,{params:t})}function b(t){return i.default.get(d.findOrder,{params:t})}function w(t){return i.default.get(d.getmy_collection_list,{params:t})}function x(t){return i.default.get(d.getcollection_detail,{params:t})}function S(t){return i.default.get(d.getmy_give_live,{params:t})}function I(t){return i.default.get(d.getrule,{params:t})}function O(t){return i.default.get(d.getmy_air_drop,{params:t})}function L(t){return i.default.get(d.getdraw_air_drop,{params:t})}function C(t){return i.default.get(d.myCollection_poster,{params:t})}function k(t){return i.default.get(d.getCategory,{params:t})}function T(t){return i.default.get(d.getBazaarList,{params:t})}function G(t){return i.default.get(d.getwallet,{params:t})}function P(t){return i.default.get(d.getmoneyLog,{params:t})}function R(t){return i.default.get(d.getwithdrawalConfig,{params:t})}function B(t){return i.default.get(d.getwalletrule,{params:t})}function z(t){return i.default.get(d.getcollection_avatar,{params:t})}function A(t){return i.default.post(d.applyWallet,t)}function E(t){return i.default.post(d.deliver,t)}function J(t){return i.default.post(d.editRrderAddress,t)}function M(t){return i.default.get(d.confirmCollection,{params:t})}},"3d5d":function(t,e,n){"use strict";n.r(e);var a=n("b38e"),o=n("4fab");for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n("0a0d");var i,d=n("f0c5"),s=Object(d["a"])(o["default"],a["b"],a["c"],!1,null,"620e46bf",null,!1,a["a"],i);e["default"]=s.exports},"4fab":function(t,e,n){"use strict";n.r(e);var a=n("da1f"),o=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},8462:function(t,e,n){var a=n("e8ed");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=n("4f06").default;o("6f4b3112",a,!0,{sourceMap:!1,shadowMode:!1})},b38e:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var a={uNavbar:n("811d").default,uEmpty:n("65ec").default,uLoadmore:n("d77d").default,uModal:n("b2cf").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"body"},[n("v-uni-view",{staticClass:"topcontent"},[n("u-navbar",{attrs:{"border-bottom":!1,title:"转赠记录",background:t.background,"title-color":"#fff"}})],1),n("v-uni-scroll-view",{staticClass:"container",attrs:{"scroll-y":"true","scroll-with-animation":!0,"enable-back-to-top":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.scroll.apply(void 0,arguments)}}},[t._l(t.goodsList,(function(e,a){return n("v-uni-view",{key:a,staticClass:"orderInformation"},[n("v-uni-view",{staticClass:"imgs"},[n("v-uni-image",{attrs:{src:e.image,mode:""}})],1),n("v-uni-view",{staticClass:"title"},[n("v-uni-text",[t._v(t._s(e.title))]),n("v-uni-text",[t._v("转赠时间："+t._s(e.give_time))])],1)],1)})),0==t.goodsList.length?n("u-empty",{attrs:{text:"暂无记录",mode:"list"}}):t._e(),t.goodsList.length>3?n("u-loadmore",{staticStyle:{paddingbottom:"20rpx"},attrs:{status:t.status,"icon-type":t.iconType,"load-text":t.loadText}}):t._e()],2),n("u-modal",{attrs:{content:"确定要取消订单吗？","show-cancel-button":!0},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmOrder.apply(void 0,arguments)}},model:{value:t.orderShow,callback:function(e){t.orderShow=e},expression:"orderShow"}}),n("u-modal",{attrs:{content:"确定收到货了吗？","show-cancel-button":!0},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.receiptOrder.apply(void 0,arguments)}},model:{value:t.receiptShow,callback:function(e){t.receiptShow=e},expression:"receiptShow"}}),n("tzs-loading",{model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)},r=[]},da1f:function(t,e,n){"use strict";var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("2909"));n("ac1f"),n("841c"),n("d3b7"),n("99af"),n("d81d"),n("a434"),n("25f0"),n("e9c4");var r=n("3a10"),i={components:{},data:function(){return{src:"",value:"",list:[{name:"待付款"},{name:"交易中"},{name:"已完成"}],current:0,salesStatus:!1,logisticsStatus:!1,goodsList:[],page:1,time:1,integral:1,total:0,cdStatus:!0,status:"loading",iconType:"flower",loadText:{loadmore:"轻轻上拉",loading:"努力加载中",nomore:"实在没有了"},orderShow:!1,receiptShow:!1,orderGoods:{},orderIndex:-1,payStatus:!1,payIndex:0,payList:["微信支付","支付宝支付","余额支付"],payType:["wachat","ali","balance"],passStatus:!1,password:"",loading:!1,background:{backgroundColor:"#000733"}}},onLoad:function(){this.findOrderlist(0)},onShow:function(){var t=uni.getStorageSync("orderTabs");console.log(t),""!=t&&(this.current=t,uni.removeStorageSync("orderTabs"))},watch:{current:function(t){this.search()}},methods:{change:function(t){this.current=t},search:function(){this.goodsList=[],this.page=1,this.time=1,this.integral=1,this.total=0,this.cdStatus=!0,this.findOrderlist(0)},findOrderlist:function(t){var e=this;this.cdStatus=!1,this.loading=!0,(0,r.getmy_give_live)({page:this.page,limit:20}).then((function(n){1==n.code&&(e.goodsList=0==t?n.data.data:[].concat((0,o.default)(e.goodsList),(0,o.default)(n.data.data)),e.total=n.data.total,e.total>e.goodsList.length?(e.page++,e.cdStatus=!0,e.status="loading"):e.status="nomore")})).finally((function(t){setTimeout((function(){e.loading=!1}),500)}))},Total:function(t){var e=0;return t.map((function(t){e+=t.total})),e},copyorder:function(t){uni.setClipboardData({data:t,success:function(){console.log("复制成功")}})},cancelOrder:function(t,e){this.orderIndex=e,this.orderGoods=t,this.orderShow=!0},confirmOrder:function(){var t=this;this.loading=!0,cancelOrder({order_id:this.orderGoods.id}).then((function(e){1==e.code&&(console.log("进来了"),uni.showToast({title:e.msg,icon:"none",mask:!0}),t.goodsList.splice(t.orderIndex,1),t.orderIndex=-1,t.orderGoods={})})).finally((function(e){setTimeout((function(){t.loading=!1}),500)}))},payTabs:function(t,e){0==t.is_pay&&(this.orderIndex=e,this.orderGoods=t,this.payStatus=!0,this.$refs.pay.choose(this.payIndex))},paymanner:function(t){this.payIndex=t,2==this.payIndex?0==this.userinfo.has_pay_pass?uni.navigateTo({url:"/pages/my/password/index"}):this.passStatus=!0:this.toPay()},setPassword:function(t){this.password=t,this.toPay()},toPay:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=this;toPay({pay_type:this.payType[this.payIndex],order_type:"order",order_id:this.orderGoods.id,pay_pass:this.password}).then((function(e){console.log(e),1==e.code&&(2!=t.payIndex?uni.requestPayment({provider:0==t.payIndex?"wxpay":"alipay",orderInfo:0==t.payIndex?JSON.stringify(e.data.config):e.data.config.body,success:function(e){console.log("success:"+JSON.stringify(e)),t.goodsList[t.orderIndex].status_text="待发货",t.goodsList[t.orderIndex].status_button=[5],t.orderGoods={},t.orderIndex=-1,uni.showToast({title:"支付成功",icon:"none",mask:!0})},fail:function(t){console.log("fail:"+JSON.stringify(t)),uni.showToast({title:"支付失败",icon:"none",mask:!0})}}):(t.goodsList[t.orderIndex].status_text="待发货",t.goodsList[t.orderIndex].status_button=[5],t.orderGoods={},t.orderIndex=-1,uni.showToast({title:"支付成功",icon:"none",mask:!0})))}))})),refund:function(t,e){this.orderIndex=e,this.orderGoods=t,this.salesStatus=!0},cancelSales:function(){this.orderIndex=-1,this.orderGoods={}},sureSales:function(){this.goodsList[this.orderIndex].status_text="售后",this.goodsList[this.orderIndex].status_button=[],this.orderIndex=-1,this.orderGoods={}},receipt:function(t,e){this.orderIndex=e,this.orderGoods=t,this.receiptShow=!0},receiptOrder:function(){var t=this;receipt({order_id:this.orderGoods.id}).then((function(e){console.log(e),1==e.code&&(uni.showToast({title:e.msg,icon:"none",mask:!0}),0==t.current?(t.goodsList[t.orderIndex].status_text="已完成",t.goodsList[t.orderIndex].status_button=[4]):t.goodsList.splice(t.orderIndex,1),t.orderIndex=-1,t.orderGoods={})}))},scroll:function(){console.log("滚动触底"),this.cdStatus&&this.findOrderlist(1)},appraise:function(t){console.log(t),uni.setStorageSync("shopName",t.shop.name),uni.navigateTo({url:"/pages/tabs/order/evaluation/index?order_id="+t.id+"&shop_id="+t.shop_id})},toPage:function(t){uni.navigateTo({url:"/pages/tabs/order/orderDetails/index?id="+t.id})}}};e.default=i},e8ed:function(t,e,n){var a=n("4bad");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.body[data-v-620e46bf]{height:100%;display:flex;flex-direction:column;overflow:hidden;background-color:#000733;min-height:100vh}.body .searchBody[data-v-620e46bf]{width:%?710?%;margin:%?20?% auto;height:%?60?%;background:#000733;border-radius:%?30?%;display:flex;align-items:center}.body .searchBody .u-icon[data-v-620e46bf]{margin:0 %?18?%}.body .searchBody .inquire[data-v-620e46bf]{width:%?82?%;height:%?44?%;background:linear-gradient(0deg,#0137b2,#0057d0);border-radius:%?22?%;font-size:%?26?%;font-weight:400;color:#fff;line-height:%?44?%;text-align:center;margin-left:%?10?%;margin-right:%?15?%}.body .tabs[data-v-620e46bf]{border-radius:%?20?% %?20?% 0 0;overflow:hidden;width:%?750?%;height:%?100?%;background:#17254b}.body .tabs[data-v-620e46bf]  .u-tab-item{width:%?240?%}.body .container[data-v-620e46bf]{width:100%;padding:%?30?%}.body .container .orderInformation[data-v-620e46bf]{width:%?690?%;height:%?180?%;background:#1b284a;border-radius:%?30?%;overflow:hidden;display:flex;align-items:center;margin-bottom:%?30?%}.body .container .orderInformation .imgs[data-v-620e46bf]{width:%?139?%;height:%?139?%;border-radius:%?20?%;margin:0 %?20?%}.body .container .orderInformation .imgs uni-image[data-v-620e46bf]{width:100%;height:100%;border-radius:%?20?%}.body .container .orderInformation .title[data-v-620e46bf]{display:flex;flex-direction:column;color:#fff;line-height:%?30?%}.body .container .orderInformation .title uni-text[data-v-620e46bf]:nth-child(1){font-size:%?30?%;font-family:PingFang SC Bold,PingFang SC Bold-Bold;font-weight:700;text-align:left;margin-bottom:%?30?%}.body .container .orderInformation .title uni-text[data-v-620e46bf]:nth-child(1){font-size:%?26?%;text-align:left}',""]),t.exports=e}}]);